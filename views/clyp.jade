extends layout
block append head
  // style(type="text/css").
  //   html, body,  #map-canvas { height:500px; margin: 0; padding: 0;}
  // script(type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=#{API_KEY}")
  // script.
  //   function initialize() {
  //     var myLatLng = new google.maps.LatLng(#{clypResults.latitude}, #{clypResults.longitude});
  //     var mapOptions = { 
  //       center: myLatLng, 
  //       zoom: 10 };
  //     var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  //     var marker = new google.maps.Marker({
  //       position: myLatLng,
  //       map: map,
  //       title: "Get rekt peeber"
  //     });
  //   var mapDiv = document.getElementById('map-updater');
  //   google.maps.event.addListener(mapDiv, 'click', refresh);
  //   }
  //   function refresh() {
  //     setTimeout(function() {
  //       var myLatLng = new google.maps.LatLng(#{clypResults.latitude}, #{clypResults.longitude});
  //       var myOptions = {
  //         zoom: 10,
  //         center: myLatLng,
  //       };

  //       var map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
  //       var marker = new google.maps.Marker({
  //         position: myLatLng,
  //         map: map,
  //         title: "herpy deeerpy"
  //       });
  //     }, 4000);
  //    }

  // google.maps.event.addDomListener(window, 'load', initialize);

block content
  include navbar
  br
  br
  br
  .container
    .row
      .col-md-6
        p
          i I contacted the creator of Clyp.it to inform him his API gave location information, and that I was concerned why anyone could get that information. He thanked me for bringing it to his attention then removed that data from the returned JSON. So, there is no longer location information available.
  .container
    .row
      .col-md-3
        .starter-template(style="padding-top:70px;")
          form(role='form',action='/clyp',method='post', id='usrform')
            div.form-group: label(for='audioURL') Enter Clyp.it URL:  
                input.form-control(id='audioURL',type='audioURL',name='audioURL',placeholder="")
            input#map-updater(type='submit',value='Submit')
      .col-md-3
        .starter-template(style="padding-top:70px;")
          form(role='form',action='/clyp/random',method='get')
            div.form-group: label Basically the same as Clyp.it, just less fancy
            input(type='submit',value='Random')
      .col-md-3
        .starter-template(style="padding-top:70px;")
          p URL: 
            a(href="#{clypResults.url}") #{clypResults.url}
          audio(controls)
            source(src="#{clypResults.mp3}", type="audio/mpeg")
    .row
      .col-md-8.col-md-offset-4
        br
        br
        br
        br
        br
        i There used to be a map here 
append scripts
  script(src='/javascripts/jquery.bootstrap-autohidingnavbar.js')
  |     
  script.
    $(".navbar-fixed-top").autoHidingNavbar();
